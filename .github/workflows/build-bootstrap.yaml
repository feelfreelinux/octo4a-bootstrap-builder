name: ci

on:
  push:

jobs:
  qemu:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout the code
        uses: actions/checkout@v4
      -
        name: Set up QEMU user mode
        uses: docker/setup-qemu-action@v3
      # -
      #   name: Fetch OctoPrint release
      #   uses: dsaltares/fetch-gh-release-asset@master
      #   with:
      #     repo: 'OctoPrint/OctoPrint'
      #     version: 'tags/1.10.0'
      #     file: 'OctoPrint-1.10.0.tar.gz'
      #     token: ${{ secrets.GITHUB_TOKEN }}
      - name: Build bootstrap
        run: |
          curl -o OctoPrint-1.10.0.tar.gz -L https://github.com/OctoPrint/OctoPrint/releases/download/1.10.0/OctoPrint-1.10.0.tar.gz
          tar -xvzf OctoPrint-1.10.0.tar.gz
          mv OctoPrint-1.10.0 octoprint-release
          chmod -R 777 octoprint-release/
          ls -l
          sh scripts/build-octo4a-bootstrap.sh